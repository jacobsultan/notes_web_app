{% macro toggle_bin_button(note) %}
    <form action="{{ url_for('toggle_bin', note_id=note.id) }}" method="POST" >
        <button type="submit">{{ 'Remove from bin' if note.binned else 'Move to bin' }}</button>
    </form>
{% endmacro %}

{% macro toggle_archived_button(note) %}
    <form action="{{ url_for('toggle_archived', note_id=note.id) }}" method="POST" >
        <button type="submit">{{ 'Unarchive' if note.archived else 'Archive' }}</button>
    </form>
{% endmacro %}

{% macro toggle_pin_button(note, button_class="toggle_pin_button") %}
    <form action="{{ url_for('toggle_pin',note_id = note.id) }}" method="POST">
        <button type="submit">{{ 'Unpin' if note.pinned else 'Pin' }}</button>
    </form>
{% endmacro %}

{% macro toggle_pin_button(note, button_class="toggle_pin_button") %}
    <form action="{{ url_for('toggle_pin', note_id=note.id) }}" method="POST">
        <button type="submit" class="{{ button_class }} {{ 'pinned' if note.pinned else 'unpinned' }}">
            <img src="{{ url_for('static', filename='images/pinned.png') if note.pinned else url_for('static', filename='images/unpinned.png') }}" alt="Pin" onmouseover="this.src = 'static/images/hover_unpinned.png'">
        </button>
    </form>
{% endmacro %}

{% macro toggle_pin_button(note, button_class="toggle_pin_button") %}
    <form action="{{ url_for('toggle_pin', note_id=note.id) }}" method="POST">
        <button type="submit" class="{{ button_class }} {{ 'pinned' if note.pinned else 'unpinned' }}"
                style="background: none; border: none; padding: 0; cursor: pointer;">
            <img src="{{ url_for('static', filename='images/pinned.png') if note.pinned else url_for('static', filename='images/unpinned.png') }}"
            {% if note.pinned %}
                onmouseover="this.src = 'static/images/hover_unpinned.png'"
                onmouseout = "this.src = 'static/images/pinned.png'"
            {% else %}
                onmouseover="this.src = 'static/images/pinned.png'"
                onmouseout = "this.src = 'static/images/unpinned.png'"
            {% endif %}
        </button>
    </form>
{% endmacro %}

{% macro display_datetime(note) %}
    <div>Last updated: {{ note.date.strftime('%d-%m-%Y %H:%M') }}</div>
{% endmacro %}

{% macro display_date(note) %}
    <div>Last updated: {{ note.date.strftime('%d-%m-%Y') }}</div>
{% endmacro %}


{% macro edit_button(note) %}
<div class="edit_note_container">
    <form action="{{ url_for('edit_note', note_id=note.id) }}" method="POST" style="display: none;" id="edit-form-{{ note.id }}" class="note-form">
        <textarea name="content">{{ note.content }}</textarea>
        <div class="edit-buttons">
            <button type="submit">Save</button>
        </div>
    </form>
    <button class="edit-button" data-note-id="{{ note.id }}">Edit</button>
</div>
{% endmacro %}

{% macro delete_button(note) %}
    <button onclick="deleteNote('{{ note.id }}')">Delete Forever</button>

{% endmacro %}

{% macro empty_trash() %}
    <div class = "deleteall">
        <form action = "{{url_for('empty_trash')}}" method = "POST" onsubmit = "return confirmEmptyTrash()";>
            <button type = "submit" class = "empty_trash">Empty Trash</button>
        </form>
    </div>
{% endmacro %}


{% macro cancel_search(page) %}
    <div class = "cancel_search">
        <form action="{{ url_for('cancel_search', page=page) }}" method="POST">
            <button type="submit" class = "cancel_search">Cancel Search</button>
        </form>
    </div>
    
{% endmacro %}
